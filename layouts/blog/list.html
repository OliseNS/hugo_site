{{ define "head_extra" }}
<!-- Blog styles now included in main.css -->
<link rel="stylesheet" href="/css/medium-style.css">
{{ end }}

{{ define "main" }}
<section class="blog-section">
  <div class="container">
    <div class="blog-header">
      <h1 class="blog-main-title">Articles</h1>
      <p class="blog-subtitle">Personal insights, tutorials, and research in data science and machine learning</p>
    </div>
  
    {{ if .Pages }}
      <div class="blog-featured">
        {{ range first 1 .Pages.ByDate.Reverse }}
          <article class="blog-featured-post">
            {{ if .Params.featured_image }}
              <div class="featured-image-container">
                <img src="{{ .Params.featured_image }}" alt="Featured image for {{ .Title }}" class="featured-image">
              </div>
            {{ end }}
            <div class="featured-content">
              <h2 class="featured-title">
                <a href="{{ .RelPermalink }}">{{ .Title }}</a>
              </h2>
              
              <div class="featured-meta">
                {{ if .Date }}
                  <span class="post-date">{{ .Date.Format "Jan 2, 2006" }}</span>
                {{ end }}
                {{ if .Params.author }}
                  <span class="post-author">{{ .Params.author }}</span>
                {{ end }}
                <span class="post-read-time">{{ div (countwords .Content) 200 }} min read</span>
              </div>
              
              <div class="featured-description">
                {{ if .Description }}
                  {{ .Description }}
                {{ else }}
                  {{ .Summary }}
                {{ end }}
              </div>
              
              {{ if .Params.tags }}
                <div class="post-tags">
                  {{ range .Params.tags }}
                    <a href="/tags/{{ . | urlize }}" class="post-tag">{{ . }}</a>
                  {{ end }}
                </div>
              {{ end }}
            </div>
          </article>
        {{ end }}
      </div>

      <div class="blog-feed">
        {{ range after 1 .Pages.ByDate.Reverse }}
          <article class="blog-post-card">
            <div class="post-card-content">
              <h3 class="post-card-title">
                <a href="{{ .RelPermalink }}">{{ .Title }}</a>
              </h3>
              
              <div class="post-card-meta">
                {{ if .Date }}
                  <span class="post-date">{{ .Date.Format "Jan 2, 2006" }}</span>
                {{ end }}
                {{ if .Params.author }}
                  <span class="post-author">{{ .Params.author }}</span>
                {{ end }}
                <span class="post-read-time">{{ div (countwords .Content) 200 }} min read</span>
              </div>
              
              <div class="post-card-description">
                {{ if .Description }}
                  {{ .Description }}
                {{ else if .Summary }}
                  {{ .Summary }}
                {{ else }}
                  {{ .Content | truncate 150 }}
                {{ end }}
              </div>
              
              {{ if .Params.tags }}
                <div class="post-tags">
                  {{ range first 3 .Params.tags }}
                    <a href="/tags/{{ . | urlize }}" class="post-tag">{{ . }}</a>
                  {{ end }}
                </div>
              {{ end }}
            </div>
            
            {{ if .Params.featured_image }}
              <div class="post-card-image">
                <img src="{{ .Params.featured_image }}" alt="Image for {{ .Title }}">
              </div>
            {{ end }}
          </article>
        {{ end }}
      </div>    {{ else }}
      <div class="no-posts">
        <div class="no-posts-icon">✍️</div>
        <h3 class="no-posts-title">Coming Soon</h3>
        <p class="no-posts-message">New articles are in the works. Stay tuned for insightful content!</p>
      </div>
    {{ end }}
  </div>
</section>
{{ end }}
