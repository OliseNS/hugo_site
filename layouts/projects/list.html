{{ define "main" }}
<section id="projects" class="projects py-5">
  <div class="container">
    <div class="page-header">
      <h2 class="page-title">Projects</h2>
      <p class="page-subtitle">Explore my recent work and contributions</p>
    </div>
    
    {{ .Content }}
    
    {{ $projects := .Pages }}    {{ if $projects }}
      <div class="row g-3">
        {{ range $projects }}
          <div class="col-lg-4 col-md-6">
            <a href="{{ .RelPermalink }}" class="project-card-link-wrapper" style="text-decoration:none;color:inherit;">
              <div class="project-card">
                <div class="project-card-img-container">
                  {{ $image := "" }}
                  {{ if .Params.image }}
                    {{ $image = .Params.image }}
                  {{ else }}
                    {{ range (slice "dither_it_1.JPG" "dither_it_epoch_vs_loss_P3.png" "dither_it_module_PA4_cluster_TrainValidateData_CPz.csv.png") }}
                      {{ if eq $image "" }}
                        {{ $staticPath := printf "/assets/%s" . }}
                        {{ if (fileExists (printf "static%s" $staticPath)) }}
                          {{ $image = $staticPath }}
                        {{ end }}
                      {{ end }}
                    {{ end }}
                  {{ end }}
                  {{ if ne $image "" }}
                    <img src="{{ $image | relURL }}" class="project-card-img" alt="{{ .Title }}">
                  {{ else }}
                    <div class="project-card-img project-card-img-placeholder">
                      <i class="fas fa-code fa-3x"></i>
                    </div>
                  {{ end }}
                </div>
                <div class="project-card-content">
                  <h3 class="project-card-title">{{ .Title }}</h3>
                  <div class="project-card-description">{{ .Summary }}</div>
                  <div class="project-card-links">
                    {{ if .Params.projectUrl }}
                    <span class="project-card-link-text"><a href="{{ .Params.projectUrl }}" target="_blank" style="text-decoration:underline;color:var(--accent);">View Project</a></span>
                    {{ end }}
                    {{ if .Params.githubUrl }}
                    <span class="project-card-link-text">
                      <a href="{{ .Params.githubUrl }}" target="_blank" style="text-decoration:underline;color:var(--accent);">
                        Source Code
                        <svg class="project-card-link-arrow" viewBox="0 0 20 20" aria-hidden="true"><path d="M7 13l6-6m0 0H7m6 0v6"/></svg>
                      </a>
                    </span>
                    {{ end }}
                  </div>
                </div>
              </div>
            </a>
          </div>
        {{ end }}
      </div>
    {{ else }}
      <div class="empty-card">
        <i class="fas fa-tools empty-card-icon"></i>
        <h4 class="empty-card-title">Projects Coming Soon</h4>
        <p class="empty-card-message">I'm working on documenting my projects and will add them here soon. Check back later to see my portfolio!</p>
      </div>
    {{ end }}
  </div>
</section>
{{ end }}

{{ define "head_extra" }}
<link href="{{ "css/project-cards.css" | relURL }}" rel="stylesheet">
<link href="{{ "css/project-card-link-arrow.css" | relURL }}" rel="stylesheet">
{{ end }}
